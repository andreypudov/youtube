<!DOCTYPE html>
<html>
  <head>
    <title>YouTube</title>

    <meta charset = 'utf-8'>
    <meta content = 'width=device-width,initial-scale=1' name = 'viewport'>

    <link rel = 'icon'       href = 'images/youtube.png' type = 'image/png'>
    <link rel = 'stylesheet' href = 'styles.css' type = 'text/css'>

    <script src = 'script.js' type = 'text/javascript'></script>
  </head>
  <body>
    <form action = 'index.html'>
      <input type = 'text' name = 'url' placeholder = 'Link to YouTube video' autofocus />
      <input type = 'submit' value = 'Watch' />
    </form>

    <iframe src = '' allowfullscreen hidden></iframe>

    <script>
      const params = new URLSearchParams(window.location.search);
      const url = params.get('url');

      if (url) {
        const form = document.querySelector('form');
        const iframe = document.querySelector('iframe');

        const src = (url.startsWith('https://www.youtube.com/watch?v='))
              ? url.replace('https://www.youtube.com/watch?v=', '')
              : url;

        form.hidden = true;
        iframe.hidden = false;
        iframe.src = `https://www.youtube.com/embed/${src}`;
      }
    </script>
  </body>
</html>
